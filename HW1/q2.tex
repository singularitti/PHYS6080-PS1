\section{Problem \thesection}

In the sample codes below, two different timing methods are shown. The first uses the
\texttt{timeit} module method \texttt{timeit} to time a single statement (denoted by
\texttt{stmt}). The statement is repeated \texttt{n} times to get the average time per call.

The second uses two calls to the default timer to record the start and stop time for code
enclosed between these calls. Note that the arrays are created outside of the numeric
calculation. The numpy arrays used here are generally optimized for better numerical
performance than regular Python arrays or lists. Time a few different statements inside the
timer calls. How do the times here, using \texttt{numpy}, compare with the times for single
statments using \texttt{timeit}?

Now use the \texttt{timeit.default\_timer()} calls to time the loop over random number
multiplications in Problem \ref{sec:q1}. Time the multiplication loop using standard
floating point numbers, the loop using truncation and the loop using rounding separately to
measure how much longer it takes to do the various additional operations in the truncation
and rounding case.

\begin{minted}[frame=single]{python}
import timeit

import_module = "import math"

n = 10000000
s = timeit.timeit(stmt="8967.4*15.4328", setup=import_module, number=n)
print("Time per multiplication call is ", float(s) / n)
s = timeit.timeit(stmt="8967.4*15.4328+3567.2", setup=import_module, number=n)
print("Time per multiplication plus add call is ", float(s) / n)
s = timeit.timeit(stmt="8967.4/15432.8", setup=import_module, number=n)
print("Time per division call is ", float(s) / n)
s = timeit.timeit(stmt="math.cos(10)", setup=import_module, number=n)
print("Time per cos call is ", float(s) / n)
s = timeit.timeit(stmt="math.log(10)", setup=import_module, number=n)
print("Time per log call is ", float(s) / n)

n = 1000000
a = np.random.rand(n)
b = np.random.rand(n)
c = np.random.rand(n)
d = np.random.rand(n)
e = np.random.rand(n)
starttime = timeit.default_timer()
print("The start time is :", starttime)
c = a * np.log(b)
dt = timeit.default_timer() - starttime
print("The time difference is :", dt)
print("The time per operation is :", dt / n)
\end{minted}
